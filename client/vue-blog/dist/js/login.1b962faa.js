(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["login"],{"1ede":function(e,n,t){},2109:function(e,n,t){"use strict";var o=t("1ede"),s=t.n(o);s.a},3846:function(e,n,t){t("9e1e")&&"g"!=/./g.flags&&t("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:t("0bfb")})},"4fde":function(e,n,t){"use strict";var o=t("8251"),s=t.n(o);s.a},"6b54":function(e,n,t){"use strict";t("3846");var o=t("cb7c"),s=t("0bfb"),r=t("9e1e"),a="toString",i=/./[a],l=function(e){t("2aba")(RegExp.prototype,a,e,!0)};t("79e5")(function(){return"/a/b"!=i.call({source:"a",flags:"b"})})?l(function(){var e=o(this);return"/".concat(e.source,"/","flags"in e?e.flags:!r&&e instanceof RegExp?s.call(e):void 0)}):i.name!=a&&l(function(){return i.call(this)})},8251:function(e,n,t){},"87b3":function(e,n,t){var o=Date.prototype,s="Invalid Date",r="toString",a=o[r],i=o.getTime;new Date(NaN)+""!=s&&t("2aba")(o,r,function(){var e=i.call(this);return e===e?a.call(this):s})},a55b:function(e,n,t){"use strict";t.r(n);var o=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"login-container"},[t("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:e.loginForm,rules:e.loginRules,"auto-complete":"on","label-position":"left"}},[t("div",{staticClass:"title-container"},[t("h3",{staticClass:"title"},[e._v("\n            登录\n        ")])]),t("el-form-item",{attrs:{prop:"username"}},[t("span",{staticClass:"svg-container"},[t("svg-icon",{attrs:{"icon-class":"user"}})],1),t("el-input",{ref:"username",attrs:{placeholder:"昵称",name:"username",type:"text","auto-complete":"on"},model:{value:e.loginForm.username,callback:function(n){e.$set(e.loginForm,"username",n)},expression:"loginForm.username"}})],1),t("el-form-item",{attrs:{prop:"password"}},[t("span",{staticClass:"svg-container"},[t("svg-icon",{attrs:{"icon-class":"password"}})],1),t("el-input",{key:e.passwordType,ref:"password",attrs:{type:e.passwordType,placeholder:"密码",name:"password","auto-complete":"on"},nativeOn:{keyup:function(n){return"button"in n||!e._k(n.keyCode,"enter",13,n.key,"Enter")?e.handleLogin(n):null}},model:{value:e.loginForm.password,callback:function(n){e.$set(e.loginForm,"password",n)},expression:"loginForm.password"}}),t("span",{staticClass:"show-pwd",on:{click:e.showPwd}},[t("svg-icon",{attrs:{"icon-class":"password"===e.passwordType?"eye":"eye-open"}})],1)],1),t("el-button",{staticStyle:{width:"100%","margin-bottom":"30px"},attrs:{loading:e.loading,type:"primary"},nativeOn:{click:function(n){return n.preventDefault(),e.handleLogin(n)}}},[e._v("\n        登录\n      ")])],1),t("el-dialog",{attrs:{title:"第三方登录",visible:e.showDialog},on:{"update:visible":function(n){e.showDialog=n}}},[e._v("\n      三方登录提示\n      "),t("br"),t("br"),t("br")])],1)},s=[];t("6b54"),t("87b3");function r(e){return e&&e.length>3}var a=t("5657"),i=t("ace7"),l=t.n(i),c=t("b775"),u={name:"Login",data:function(){var e=function(e,n,t){r(n)?t():t(new Error("Please enter the correct user name"))},n=function(e,n,t){n.length<4?t(new Error("The password can not be less than 4 digits")):t()};return{loginForm:{username:"",password:""},loginRules:{username:[{required:!0,trigger:"blur",validator:e}],password:[{required:!0,trigger:"blur",validator:n}]},passwordType:"password",loading:!1,showDialog:!1,redirect:void 0}},watch:{$route:{handler:function(e){this.redirect=e.query&&e.query.redirect},immediate:!0}},created:function(){},mounted:function(){""===this.loginForm.username?this.$refs.username.focus():""===this.loginForm.password&&this.$refs.password.focus()},destroyed:function(){},methods:{showPwd:function(){var e=this;"password"===this.passwordType?this.passwordType="":this.passwordType="password",this.$nextTick(function(){e.$refs.password.focus()})},handleLogin:function(){var e=this;this.$refs.loginForm.validate(function(n){if(!n)return console.log("error submit!!"),!1;e.loading=!0,Object(c["b"])("/login",{nick:e.loginForm.username,password:e.loginForm.password}).then(function(n){0===+n.code&&(a["a"].setItem(l.a.baseDataName,JSON.stringify(n.data)),setTimeout(function(){e.$router.push("/")},1e3)),e.$message({message:n.message,center:!0})}).catch(function(e){console.log(e)}).then(function(n){e.loading=!1})})}}},d=u,p=(t("4fde"),t("2109"),t("2877")),f=Object(p["a"])(d,o,s,!1,null,"1ddac465",null);n["default"]=f.exports}}]);
//# sourceMappingURL=login.1b962faa.js.map